<div class="account">
  <h1 class="title">
    <app-back-icon></app-back-icon>
    Conta
  </h1>
  <div *ngIf="account && !accountService.isLoadingAccount; else elseloading" class="content">
    <div class="info-container">
      <div class="input-section">
        <label for="id">Id</label>
        <input disabled class="data" name="id" [(ngModel)]="account.id" /> 
      </div>
      <div class="input-section">
        <label for="username">Username</label>
        <input class="data" name="username" id="username" [(ngModel)]="account.username" />
      </div>
      <div class="input-section">
        <label for="email">E-mail</label>
        <input class="data" id="email" name="email" [(ngModel)]="account.email" />
      </div>
      <button class="update-btn" (click)="handleUpdate()" [disabled]="isUpdatingInfo">
        <p>{{ isUpdatingInfo ? "Atualizando" : "Atualizar" }}</p>
        <i *ngIf="!isUpdatingInfo" class="bi bi-pencil-square"></i>
        <app-spinner-loading *ngIf="isUpdatingInfo" [isDark]="false" [isBig]="false"></app-spinner-loading>
      </button>
    </div>
    <div class="info-container">
      <h3>Atualizar senha</h3>
      <div class="input-section">
        <label for="email">Senha Atual</label>
        <input class="data" id="email" name="email" [(ngModel)]="currentPassword" />
      </div>
      <div class="input-section">
        <label for="email">Nova senha</label>
        <input class="data" id="email" name="email" [(ngModel)]="newPassword" />
      </div>
      <button class="update-btn" (click)="handleUpdatePassword()" [disabled]="isUpdatingPassword">
        <p>{{ isUpdatingPassword ? "Atualizando" : "Atualizar senha" }}</p>
        <i *ngIf="!isUpdatingPassword" class="bi bi-pencil-square"></i>
        <app-spinner-loading *ngIf="isUpdatingPassword" [isDark]="false" [isBig]="false"></app-spinner-loading>
      </button>
    </div>
    <div class="actions">
      <button (click)="logOut()" class="btn">
        Sair
        <i class="bi bi-box-arrow-left"></i>
      </button>
    </div>
  </div>
</div>

<ng-template #elseloadingSmall>
  <app-spinner-loading [isDark]="false" [isBig]="false"></app-spinner-loading>
</ng-template>

<ng-template #elseloading>
  <app-spinner-loading [isDark]="false" [isBig]="true"></app-spinner-loading>
</ng-template>